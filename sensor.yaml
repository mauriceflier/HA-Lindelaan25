### sensor.yaml
### MQTT DSMR Sensors
  - platform: mqtt
    name: "electricity_used"
    state_topic: "dsmr/json"
    unit_of_measurement: "w"
    device_class: power
    value_template: "{{ value_json.electricity_currently_delivered|float*1000|round(0) }}"
  - platform: mqtt
    name: "electricity_delivered"
    state_topic: "dsmr/json"
    unit_of_measurement: "w"
    device_class: power
    value_template: "{{ value_json.electricity_currently_returned|float*1000|round(0) }}"
  - platform: template
    sensors:
      electricity_sum:
        friendly_name: "huidig netto energieverbruik"
        unit_of_measurement: 'w'
        device_class: power
        value_template: "{{ states('sensor.electricity_used') | float - states('sensor.electricity_delivered') | float }}"

  - platform: mqtt
    name: "daily_electricity_used"
    state_topic: "dsmr/day-consumption"
    unit_of_measurement: "w"
    device_class: power
    value_template: "{{ value_json.electricity_merged|float*1000|round(0) }}"
  - platform: mqtt
    name: "daily_electricity_delivered"
    state_topic: "dsmr/day-consumption"
    unit_of_measurement: "w"
    device_class: power
    value_template: "{{ value_json.electricity_returned_merged|float*1000|round(0) }}"
  - platform: template
    sensors:
      daily_electricity_sum:
        friendly_name: "dagelijks netto energieverbruik"
        unit_of_measurement: 'kwh'
        device_class: power
        value_template: "{{ ((states('sensor.daily_electricity_used') | float - states('sensor.daily_electricity_delivered')|float)|float / 1000 )|round(2)}}"

### Reistijdcalculator van Waze
  - platform: waze_travel_time
    name: "Home to PWA"
    origin: zone.pwa_bv
    destination: zone.home
    region: EU

  - platform: waze_travel_time
    name: "PWA to Home"
    origin: zone.home
    destination: zone.pwa_bv
    region: EU
    
  - platform: template
    sensors:
      domains_in_use:
        friendly_name: Domains in use
        value_template: >
          {%- for d in states | groupby('domain') %}
          {{ d[0] }}
          {%- endfor %}
